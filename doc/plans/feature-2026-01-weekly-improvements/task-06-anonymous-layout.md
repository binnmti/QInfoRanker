# タスク06: 未認証ユーザー向けレイアウト変更

## 概要

未認証ユーザー向けに、トップページを「今週のおすすめ」に変更し、サイドバーを非表示にするレイアウト変更を実施。AuthorizeViewコンポーネントを使い、認証状態に応じてサイドバーの表示/非表示を切り替え、未認証時はログインリンクのみ表示するシンプルなヘッダーを実装。

## 目的

未認証ユーザーはトップページで「今週のおすすめ」のみ閲覧可能とし、サイドバー（ナビメニュー）を非表示にする。認証ユーザーは従来通り全ページにアクセス可能。

## 背景

現状：
- 全ユーザーにサイドバーが表示される
- 未認証ユーザーは認証必須ページにアクセスできない（が、リンクは見える）
- トップページ（/）はキーワード管理画面

サーバー公開版では：
- 未認証ユーザーは他ページにジャンプできない仕様
- サイドバーがあると不自然

ユーザーの要望：
- 未認証ユーザー: トップページ = 今週のおすすめ、サイドバーなし
- 認証ユーザー: 全ページアクセス可能、サイドバーあり

## 対象ファイル

- `src/QInfoRanker.Web/Components/Layout/MainLayout.razor` - 認証状態でサイドバー表示切替
- `src/QInfoRanker.Web/Components/Pages/WeeklySummary.razor` - `@page "/"` を追加
- `src/QInfoRanker.Web/Components/Pages/Keywords.razor` - `@page "/"` を削除、`/keywords` のみに

## 実装内容

- [x] MainLayout.razor で `AuthorizeView` を使いサイドバーを認証ユーザーのみに表示
- [x] WeeklySummary.razor に `@page "/"` を追加（未認証トップページ）
- [x] Keywords.razor から `@page "/"` を削除（`/keywords` のみ）
- [x] NavMenu.razor のトップリンクを `/keywords` に変更
- [x] 未認証時はログインリンクまたはシンプルなヘッダーを表示

## テスト

- [x] 未認証でトップページ（/）にアクセス → 今週のおすすめが表示される
- [x] 未認証でサイドバーが非表示になっている
- [x] 認証後にサイドバーが表示される
- [x] 認証後にキーワードページ（/keywords）にアクセスできる
- [x] 既存のビルドが通ることを確認

## 完了条件

- 未認証ユーザー: トップ = 今週のおすすめ、サイドバーなし
- 認証ユーザー: 全ページアクセス可能、サイドバーあり
- 既存テストが通る

## 参考情報

- `src/QInfoRanker.Web/Components/Layout/MainLayout.razor` - 現在のレイアウト
- Blazor `AuthorizeView` コンポーネント
